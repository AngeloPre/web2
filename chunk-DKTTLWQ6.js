import{$ as A,J as M,_ as R,aa as V,ca as z,da as p,ha as B}from"./chunk-QBBBHBEZ.js";import{fa as E}from"./chunk-CWLWSTNJ.js";import{a as k}from"./chunk-47FK23CJ.js";import"./chunk-YW3IUMFW.js";import"./chunk-WRGBNHLW.js";import{Ea as m,Ib as f,Nb as _,Rb as o,Sb as i,T as d,Tb as y,Vb as S,ac as D,bc as u,ea as g,lc as r,qa as v,ra as h,sb as c,xc as b,y as C,yb as x}from"./chunk-WQLYTPAN.js";import"./chunk-FDERIQAA.js";var l=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-resgatar-servico"]],decls:7,vars:0,consts:[["mat-dialog-title",""],["mat-stroked-button","","mat-dialog-close",""],["mat-flat-button","","mat-dialog-close","resgatar","cdkFocusInitial",""]],template:function(t,n){t&1&&(o(0,"h2",0),r(1,"Voc\xEA realmente deseja resgatar a solicita\xE7\xE3o?"),i(),o(2,"mat-dialog-actions")(3,"button",1),r(4,"Cancelar"),i(),o(5,"button",2),r(6,"Resgatar Conserto"),i()())},dependencies:[M,p,A,V,z],encapsulation:2})};var I=(e,a)=>["/cliente/orcamentos",e,a],L=(e,a)=>["/cliente/pagar",e,a];function N(e,a){if(e&1&&(o(0,"button",0),r(1," Aprovar/Rejeitar Servi\xE7o "),i()),e&2){let t=u();f("routerLink",b(1,I,t.id(),t.slug()))}}function P(e,a){if(e&1){let t=S();o(0,"button",2),D("click",function(){v(t);let s=u();return h(s.abrirModal())}),r(1," Resgatar "),i()}}function j(e,a){if(e&1&&(o(0,"button",0),r(1," Pagar "),i()),e&2){let t=u();f("routerLink",b(1,L,t.id(),t.slug()))}}function H(e,a){e&1&&y(0,"p")}var T=class e{chamadoService=g(B);chamadosStatus=k;status=m.required();id=m.required();slug=m();dialog=g(R);abrirModal(){this.dialog.open(l).afterClosed().pipe(C(t=>t==="resgatar"),d(()=>{let t={id:-1,serviceId:this.id(),status:"Aprovada",dataCriado:new Date};return this.chamadoService.resgatar(this.id(),t)}),d(()=>this.chamadoService.refresh())).subscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-visualizar-button"]],inputs:{status:[1,"status"],id:[1,"id"],slug:[1,"slug"]},decls:4,vars:1,consts:[[1,"bg-transparent","font-sans","text-sm","hover:bg-figma-gray-300","hover:text-figma-gray-100","py-2","px-4","border","border-figma-gray-600","hover:border-transparent","rounded",3,"routerLink"],[1,"bg-transparent","font-sans","text-sm","hover:bg-figma-gray-300","hover:text-figma-gray-100","py-2","px-4","border","border-figma-gray-600","hover:border-transparent","rounded"],[1,"bg-transparent","font-sans","text-sm","hover:bg-figma-gray-300","hover:text-figma-gray-100","py-2","px-4","border","border-figma-gray-600","hover:border-transparent","rounded",3,"click"]],template:function(t,n){if(t&1&&x(0,N,2,4,"button",0)(1,P,2,0,"button",1)(2,j,2,4,"button",0)(3,H,1,0,"p"),t&2){let s;_((s=n.status())===n.chamadosStatus.ORCADA?0:s===n.chamadosStatus.REJEITADA?1:s===n.chamadosStatus.ARRUMADA?2:3)}},dependencies:[E,p],encapsulation:2,changeDetection:0})};export{T as VisualizarButtonComponent};
